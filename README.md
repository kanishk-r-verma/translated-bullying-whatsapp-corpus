# Leveraging Machine Translation for Cross-Lingual Fine-Grained Cyberbullying Classification Amongst Pre-Adolescents

This repository hosts the translated dataset and Python notebooks for processing and analyzing data used in the paper:

**"Leveraging Machine Translation for Cross-Lingual Fine-Grained Cyberbullying Classification Amongst Pre-Adolescents"**

Published in *Journal of Natural Language Engineering* (2022). The study involves translating the original Italian WhatsApp dataset by [Sprugnoli et al., 2018](https://www.aclweb.org/anthology/W18-5107/) to analyze cyberbullying among Italian students aged 12-13.

---

## ğŸ“‚ Folder Structure
```
.
â”œâ”€â”€ WhatsApp-Dataset/             # Original dataset (cloned from GitHub)
â”‚   â”œâ”€â”€ Annotated_Corpus/
â”‚   â”‚   â”œâ”€â”€ A_1.xml
â”‚   â”‚   â”œâ”€â”€ A_2.xml
â”‚   â”‚   â”œâ”€â”€ *.xml
â”‚   â”œâ”€â”€ Guidelines.pdf
â”‚   â”œâ”€â”€ README.md
â”‚
â”œâ”€â”€ raw/                          # Raw dataset (converted from XML to CSV)
â”‚   â”œâ”€â”€ *_allData.csv
â”‚   â”œâ”€â”€ *_bullyData.csv
â”‚
â”œâ”€â”€ translated/                   # Human-translated dataset
â”‚   â”œâ”€â”€ *_allData_REV.xls
â”‚   â”œâ”€â”€ *_bullyData.xls
â”‚
â”œâ”€â”€ merged/                       # Merged raw and translated datasets
â”‚   â”œâ”€â”€ *_allData.csv
â”‚   â”œâ”€â”€ *_bullyData.csv
â”‚
â”œâ”€â”€ mt_output/                    # Machine translation output
â”‚   â”œâ”€â”€ it-en.test_better.hyp.v2
â”‚   â”œâ”€â”€ it1-en.test_better.hyp.v2
â”‚
â”œâ”€â”€ pre_process/
â”‚   â”œâ”€â”€ scenario_wise/            # Pre-processed scenario-wise datasets
â”‚   â”‚   â”œâ”€â”€ *_en_clean.csv
â”‚   â”‚   â”œâ”€â”€ *_it_clean.csv
â”‚   â”œâ”€â”€ train_val_test/           # Train-validation-test split datasets
â”‚   â”‚   â”œâ”€â”€ scenario_c.csv
â”‚   â”‚   â”œâ”€â”€ test.csv
â”‚   â”‚   â”œâ”€â”€ train.csv
â”‚   â”‚   â”œâ”€â”€ validation.csv
â”‚   â”œâ”€â”€ emoji_info.csv            # Scraped emoji transcriptions
â”‚   â”œâ”€â”€ raw_english_ordered.csv
â”‚   â”œâ”€â”€ raw_italian_ordered.csv
â”‚
â”œâ”€â”€ convert_raw_to_csvs.ipynb      # Converts raw XML to JSON and CSV
â”œâ”€â”€ clean_merge_split.ipynb        # Cleans, merges, and splits data
â”œâ”€â”€ get_emoji_transcriptions.ipynb # Scrapes and processes emoji data
â”œâ”€â”€ merge_raw_translated.ipynb     # Merges human-translated and raw datasets
â”œâ”€â”€ data_whatsapp.json             # Original dataset in JSON format
â””â”€â”€ README.md
```
---

## ğŸ“Œ Dataset Details

- **WhatsApp-Dataset/**: Clone from the original dataset repository:
  ```bash
  git clone https://github.com/dhfbk/WhatsApp-Dataset.git
  ```
- **raw/**: Created by running `convert_raw_to_csvs.ipynb` (XML â†’ JSON â†’ CSV). This was used for translation.
- **translated/**: Generated by `convert_raw_to_csvs.ipynb` after translation.
- **merged/**:
  - First, run `get_emoji_transcriptions.ipynb` to extract emoji data (`pre_process/emoji_info.csv`).
  - Then, run `merge_raw_translated.ipynb` to merge human-translated and raw data.
  - Next, run `clean_merge_split.ipynb` to generate `raw_italian_ordered.csv` (used for machine translation experiments).
  - Finally, use the data split function in `clean_merge_split.ipynb` to create:
    - `train.csv`
    - `test.csv`
    - `validation.csv`
    - `scenario_c.csv`

### âš ï¸ Important Notes:
- `{train|test|validation|scenario}.csv` contain **File** & **SentenceNumber** fields.
- For **labels**, refer to the `raw/` and `merged/` directories (files ending in `_bullyData`).
- `data_whatsapp.json` is the dataset shared by [Sprugnoli et al., 2018](https://www.aclweb.org/anthology/W18-5107/).

---

## ğŸ“– Citation
If you use this dataset, please cite our work:
```bibtex
@article{verma_popoviÄ‡_poulis_cherkasova_Ã³ hÃ³bÃ¡in_mazzone_milosevic_davis_2022,
    title={Leveraging machine translation for cross-lingual fine-grained cyberbullying classification amongst pre-adolescents},
    DOI={10.1017/S1351324922000341},
    journal={Natural Language Engineering},
    publisher={Cambridge University Press},
    author={Verma, Kanishk and PopoviÄ‡, Maja and Poulis, Alexandros and Cherkasova, Yelena and Ã“ hÃ“bÃ¡in, Cathal and Mazzone, Angela and
    Milosevic, Tijana and Davis, Brian},
    year={2022},
    pages={1â€“23}
}
```

---

## ğŸ“¬ Contact
For any questions, feel free to reach out to the authors of the paper.

---
This structured `README.md` makes it easier to navigate the dataset and understand the workflow. ğŸš€